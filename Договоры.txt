
&После("ПередЗаписью")
Процедура RoistatПередЗаписью(Отказ)
			
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ
	               |	ДоговорыКонтрагентов.Ссылка КАК Ссылка
	               |ИЗ
	               |	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	               |ГДЕ
	               |	ДоговорыКонтрагентов.Наименование = &Наименование
	               |	И ДоговорыКонтрагентов.Ссылка <> &Ссылка
	               |	И ДоговорыКонтрагентов.ПометкаУдаления = ЛОЖЬ";
	Запрос.УстановитьПараметр("Наименование", ЭтотОбъект.Наименование);
	Запрос.УстановитьПараметр("Ссылка", ЭтотОбъект.Ссылка);
	Если НЕ Запрос.Выполнить().Пустой() Тогда
		Сообщить("Договор контрагента с такими данными уже существует в базе!");
		Отказ = Истина;
	КонецЕсли;
		
КонецПроцедуры
